"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[1503],{1315:(e,t,a)=>{a.d(t,{R:()=>n,g:()=>l});var s=a(3245);function n(e){return(0,s.b)("/contractList",e)}function l(e){return(0,s.b)("/billList",e)}},1503:(e,t,a)=>{a.r(t),a.d(t,{default:()=>w});var s=a(6933),n=a(6399),l=a(5492),i=a(9073),r=a(7419),o=a(1645),d=a(6612),c=a(5444),h=a(5512),u=a(8444),p=a(3463),x=a(9330),m=a(1966),y=a(1315),j=a(5043),A=a(1238),N=a(2450);var k=a(579);const{RangePicker:g}=s.A;const w=function(){const e=[{title:"No.",key:"index",render:(e,t,a)=>a+1,width:100,fixed:"left"},{title:"Bill Number",dataIndex:"accountNo",key:"accountNo",width:150},{title:"Payment Status",dataIndex:"status",key:"status",width:100,render:e=>1==e?(0,k.jsx)(n.A,{color:"green",children:"Paid"}):(0,k.jsx)(n.A,{color:"red",children:"Unpaid"})},{title:"Room Number",dataIndex:"roomNo",key:"roomNo",width:100},{title:"Parking Number",dataIndex:"carNo",key:"carNo",width:100},{title:"Phone Number",dataIndex:"tel",key:"tel",width:150},{title:"Property Fee (Annual)",dataIndex:"costName1",key:"costName1",width:150},{title:"Parking Fee",dataIndex:"costName2",key:"costName2",width:150},{title:"House Rent",dataIndex:"costName3",key:"costName3",width:150},{title:"Start Date",dataIndex:"startDate",key:"startDate",width:150},{title:"End Date",dataIndex:"endDate",key:"endDate",width:150},{title:"Discount Amount",dataIndex:"preferential",key:"preferential",width:150},{title:"Total Receivable",dataIndex:"money",key:"money",width:150},{title:"Payment Method",dataIndex:"pay",key:"pay",width:100},{title:"Action",width:230,key:"operate",fixed:"right",render:e=>(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(l.Ay,{type:"primary",size:"small",children:"Print"}),(0,k.jsx)(l.Ay,{type:"primary",size:"small",danger:!0,className:"ml mr",children:"Void Bill"}),(0,k.jsx)(l.Ay,{type:"primary",size:"small",children:"Refund"})]})}],[t,a]=(0,j.useState)({date:[],no:"",status:"",page:1,pageSize:10}),[s,w]=(0,j.useState)([]),[b,f]=(0,j.useState)(1),[S,v]=(0,j.useState)(10),[P,I]=(0,j.useState)(!1),[D,R]=(0,j.useState)(0),[B,C]=(0,j.useState)([]),[_,z]=(0,j.useState)({accountNo:""}),T={selectedRowKeys:B,onChange:(e,t)=>{console.log(t),C(e),z(t)},preserveSelectedRowKeys:!0},E=(0,j.useMemo)((()=>!B.length),[B]),F=async()=>{I(!0);const{data:{list:e,total:a}}=await(0,y.g)({page:b,pageSize:S,startDate:t.date[0],endDate:t.date[1],no:t.no,status:t.status});I(!1),w(e),R(a)},K=["accountNo","status","roomNo","carNo","tel","costName1","costName2","costName3","startDate","endDate","preferential","money","pay"];return(0,j.useEffect)((()=>{F()}),[b,S]),(0,k.jsxs)("div",{children:[(0,k.jsx)(i.A,{children:(0,k.jsxs)(r.A,{gutter:16,children:[(0,k.jsx)(o.A,{span:6,children:(0,k.jsx)(d.A,{title:"Total Receivable Bills",value:"16,876.38"})}),(0,k.jsx)(o.A,{span:6,children:(0,k.jsx)(d.A,{title:"Total Paid Bills",value:"6,952.00"})}),(0,k.jsx)(o.A,{span:6,children:(0,k.jsx)(d.A,{title:"Total Refunded Bills",value:"2,355.23"})}),(0,k.jsx)(o.A,{span:6,children:(0,k.jsx)(d.A,{title:"Total Unpaid Bills",value:"9,962.00"})})]})}),(0,k.jsx)(i.A,{className:"mt search",children:(0,k.jsxs)(r.A,{gutter:16,children:[(0,k.jsxs)(o.A,{span:6,children:[(0,k.jsx)("p",{children:"Bill Date"}),(0,k.jsx)(g,{name:"date",style:{width:"100%"},onChange:(e,t)=>{console.log(e,t),a((e=>({...e,date:t})))}})]}),(0,k.jsxs)(o.A,{span:6,children:[(0,k.jsx)("p",{children:"Room/Parking Number:"}),(0,k.jsx)(c.A,{placeholder:"Please enter room or parking number",value:t.no,onChange:e=>{const{value:t}=e.target;a((e=>({...e,no:t})))}})]}),(0,k.jsxs)(o.A,{span:6,children:[(0,k.jsx)("p",{children:"Payment Status"}),(0,k.jsx)(h.A,{style:{width:"100%"},options:[{value:"1",label:"All"},{value:"2",label:"Paid"},{value:"3",label:"Unpaid"}],onChange:e=>{a((t=>({...t,status:e})))}})]}),(0,k.jsxs)(o.A,{span:6,children:[(0,k.jsx)(l.Ay,{type:"primary",className:"mr",onClick:F,children:"Search"}),(0,k.jsx)(l.Ay,{children:"Reset"})]})]})}),(0,k.jsxs)(i.A,{className:"mt",children:[(0,k.jsx)(l.Ay,{type:"primary",icon:(0,k.jsx)(x.A,{}),disabled:E,onClick:()=>function(e,t){const a=A.Wp.json_to_sheet(e,{header:t}),s=A.Wp.book_new();A.Wp.book_append_sheet(s,a,"sheet1");const n=A.M9(s,{bookType:"xlsx",type:"buffer"});(0,N.saveAs)(new Blob([n],{type:"application/octet-stream"}),"selected-data.xlsx")}(_,K),children:"Export to Excel"}),(0,k.jsx)(l.Ay,{icon:(0,k.jsx)(m.A,{}),danger:!0,className:"ml",type:"primary",disabled:E,children:"Batch Void"})]}),(0,k.jsxs)(i.A,{className:"mt",children:[(0,k.jsx)(u.A,{dataSource:s,columns:e,pagination:!1,rowKey:e=>e.accountNo,rowSelection:T,scroll:{x:1200}}),(0,k.jsx)(p.A,{className:"fr mt",showQuickJumper:!0,current:b,pageSize:S,total:D,onChange:(e,t)=>{f(e),v(t)}})]})]})}}}]);
//# sourceMappingURL=1503.1375814d.chunk.js.map